/* ========================================================================
 * COLORIFY: jQuery.colorify.js v1.0.0
 * ========================================================================
 * Copyright 2017 Hetrotech Private Limited.
 * Licensed under MIT
 * ======================================================================== */
!function(e,t){"use strict";function s(e){new l(e)}function o(e){return e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+n(e[1])+n(e[2])+n(e[3])}function n(t){var s=e.fn.settings.hexDigits;return isNaN(t)?"00":s[(t-t%16)/16]+s[t%16]}function i(){e("body").prepend('<div class="d-set color-container" id="color">\t\t\t<div class="d-set color"><div class="d-set pointer color-1"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-2"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-3"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-4"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-5"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-6"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-7"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-8"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-9"></div></div>\t\t\t<div class="d-set color"><div class="d-set pointer color-10"></div></div>\t\t\t<div class="d-set color"><input title="enter custom color" type="text" placeholder="#fe211c"class="d-set set-color form-control" id="set-color"/></div>\t\t</div>'),0==e.fn.settings.modalCreated&&d()}function d(){e("body").append('<div id="source-container" class="modal fade d-set" role="dialog">\t\t  <div class="modal-dialog d-set">\t\t\t<div class="modal-content d-set">\t\t\t  <div class="modal-header d-set">\t\t\t\t<button type="button" class="close d-set" data-dismiss="modal">&times;</button>\t\t\t\t<h4 class="modal-title d-set">CSS Styles</h4>\t\t\t  </div>\t\t\t  <div class="modal-body d-set">\t\t\t\t<pre class="d-set"></pre>\t\t\t  </div>\t\t\t  <div class="modal-footer d-set">\t\t\t\t<button type="button" class="btn btn-default d-set" data-dismiss="modal">Close</button>\t\t\t  </div>\t\t\t</div>\t\t</div>\t\t</div>'),e.fn.settings.modalCreated=1}var l=function(s){i(),this.keys=e.extend({},e.fn.colorify.defaults,s),this.previous;var o=this;this.$selected={element:"undefined",fontScale:"px",tagName:"undefined",fontWeight:"normal",fontSize:"inherit",font:{37:function(){var e=parseInt(o.$selected.element.css("letter-spacing"));if(!(e>0))return alert("Min range 0 reached");o.$selected.element.css("letter-spacing",e-1+o.$selected.fontScale)},39:function(){var e=parseInt(o.$selected.element.css("letter-spacing"));if(!(e<100))return alert("Max range 100 reached");o.$selected.element.css("letter-spacing",e+1+o.$selected.fontScale)},38:function(){o.$selected.fontSize=parseInt(o.$selected.element.css("font-size")),o.$selected.element.css("font-size",o.$selected.fontSize+1+o.$selected.fontScale)},40:function(){o.$selected.fontSize=parseInt(o.$selected.element.css("font-size")),o.$selected.element.css("font-size",o.$selected.fontSize-1+o.$selected.fontScale)}},bold:function(){o.$selected.fontWeight=o.$selected.element.css("font-weight"),"bold"==o.$selected.fontWeight?o.$selected.element.css("font-weight","normal"):o.$selected.element.css("font-weight","bold")}},e(t).on("click",e.proxy(this.onColorSelect,this)).off("keydown",e.fn.settings.onKeyDown).on("keydown",e.proxy(e.fn.settings.onKeyDown,this)).on("keydown",e.proxy(e.fn.settings.onColorKeyDown,this)),e(".color>div").on("click",e.proxy(this.pickColor,this)),e("#set-color").on("input",e.proxy(this.setColor,this))};l.VERSION="1.0.0",l.pluginName="Colorify",l.AUTHOR="Sagar Dewani",l.WEBSITE="http://www.hetrotech.in/",e.fn.colorify=function(e){return s(e)},t.$.colorify=e.fn.colorify;var c={disableSelect:[e("body"),e("#wrapper"),e("html"),e("option")],defSetting:{colorify:0,bgcolor:0,fgcolor:0,font:0},modalCreated:0,hexDigits:new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),onKeyDown:function(t){var s=this;if("undefined"!==s.$selected.element){if(t.shiftKey&&t.ctrlKey&&t.altKey)for(var o in e.fn.settings.defSetting)e.fn.settings.defSetting.hasOwnProperty(o)&&(e.fn.settings.defSetting[o]=0);if(t.ctrlKey&&t.which==s.keys.modeKey){var n="normal";for(var o in e.fn.settings.defSetting)e.fn.settings.defSetting.hasOwnProperty(o)&&1==e.fn.settings.defSetting[o]&&(n=o);alert("Activated Mode: "+n)}if(t.which==s.keys.sourceKey){if(e(".modal-body>pre").empty(),e.fn.settings.defSetting.transition){var i,d,l=e("style#d-set-stylesheet")[0].sheet?e("style#d-set-stylesheet")[0].sheet:e("style#d-set-stylesheet")[0].styleSheet,c=l.rules?l.rules:l.cssRules,r=(c.length,c.length),f=s.$selected.element.attr("class").split(" ");for(i=0;i<r;i++)d=c[i].selectorText.replace(".",""),f.indexOf(d)>-1?e(".modal-body>pre").append("<code class=d-set style='background-color:#7fdfde;'>"+c[i].cssText+"</code><br/>"):e(".modal-body>pre").append("<code class=d-set>"+c[i].cssText+"</code><br/>")}else e.fn.settings.defSetting.colorify&&e(".modal-body>pre").append("<code class=d-set>"+s.$selected.element.attr("style")+"</code><br/>");e("#source-container").modal("show")}}},onColorKeyDown:function(t){var s=this;if("undefined"!==s.$selected.element){if(t.shiftKey&&t.which==s.keys.colorifyKey){for(var o in e.fn.settings.defSetting)e.fn.settings.defSetting.hasOwnProperty(o)&&e.fn.settings.defSetting.colorify||(e.fn.settings.defSetting[o]=0);e.fn.settings.defSetting.colorify=0==e.fn.settings.defSetting.colorify?1:0}e.fn.settings.defSetting.colorify&&(t.shiftKey&&"66"==t.which&&(e.fn.settings.defSetting.fgcolor=0,e.fn.settings.defSetting.font=0,e.fn.settings.defSetting.bgcolor=0==e.fn.settings.defSetting.bgcolor?1:0),t.shiftKey&&"70"==t.which&&(e.fn.settings.defSetting.bgcolor=0,e.fn.settings.defSetting.font=0,e.fn.settings.defSetting.fgcolor=0==e.fn.settings.defSetting.fgcolor?1:0),t.shiftKey&&"84"==t.which&&(e.fn.settings.defSetting.bgcolor=0,e.fn.settings.defSetting.fgcolor=0,e.fn.settings.defSetting.font=0==e.fn.settings.defSetting.font?1:0),t.ctrlKey&&"66"==t.which&&(e.fn.settings.defSetting.font?s.$selected.bold():alert("Please Turn ON the font mode, using shift+t\nTo apply text formatting effects.")),"39"!=t.which&&"37"!=t.which&&"38"!=t.which&&"40"!=t.which||e.fn.settings.defSetting.font&&s.$selected.font[t.which]())}}};e.fn.colorify.defaults={colorifyKey:"67",sourceKey:"13",modeKey:"77"},e.fn.settings=e.extend(!0,{},e.fn.settings||{},c),l.prototype.onColorSelect=function(t){var s,o=this,n=e.fn.settings.disableSelect,i=n.length;for(s=0;s<i;s++)if(e(t.target).is(n[s]))return;e(t.target).is('[class*="d-set"]')||(o.$selected.element=e(t.target),o.$selected.fontSize="undefined"!=o.$selected.element?"inherit"==o.$selected.element.css("font-size")?"inherit":o.$selected.element.css("font-size"):"initial",o.$selected.fontWeight="undefined"!=o.$selected.element&&"bold"==o.$selected.element.css("font-weight")?"bold":"normal",o.$selected.tagName="undefined"!=o.$selected.element?o.$selected.element[0].tagName.toLowerCase():"undefined",o.$selected.element&&(o.previous&&o.previous.hasClass("border-blue")&&o.previous.removeClass("border-blue"),o.previous=o.$selected.element,o.previous.addClass("border-blue")))},l.prototype.pickColor=function(t){var s=this;if(e.fn.settings.defSetting.bgcolor){n=o(e(t.target).css("background-color"));e("#set-color").val(n),s.previous.css("background-color",n)}else if(e.fn.settings.defSetting.fgcolor){var n=o(e(t.target).css("background-color"));e("#set-color").val(n),s.previous.css("color",n)}else alert("Please press shift + b\nTo Set background color\nPress shift + f\nTo Set Foreground Color")},l.prototype.setColor=function(t){var s=this,o=e("#set-color");"undefined"!==s.$selected.element&&1==e.fn.settings.defSetting.bgcolor?s.previous.css("background-color",o.val()):"undefined"!==s.$selected.element&&1==e.fn.settings.defSetting.fgcolor?s.previous.css("color",o.val()):alert("No element selected\n please select the element first\n or if you have selected the item\nThen select foreground or background mode\nPress shift+b : background mode\nPress shift+f : foreground mode")}}(jQuery,window);